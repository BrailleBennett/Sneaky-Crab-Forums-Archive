/*
 =======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.7.4
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2023 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
// ***************************
// js.compressed/memberchannel.js
// ***************************
vBulletin.memberChannel=function(c){function l(a,b,c){a=a.filter(b).toggleClass("h-disabled",!c);c?a.attr("href",c):a.removeAttr("href")}function g(a,b){function f(a){var b=a.innerWidth(),c=parseInt(a.css("paddingLeft"),10);a=parseInt(a.css("paddingRight"),10);return Math.floor(b-c-a)}function d(a,b){var d=!!b;a.width(b);a.toggleClass("b-groupgrid__item-inner--expanded",d);b=c(".js-groupgrid-item-icon",e).outerWidth();e=c(".js-groupgrid-item-icon-link",e).outerWidth();d&&e>b&&a.removeClass("b-groupgrid__item-inner--expanded");
var e=a.first();d=f(e)-1;a.find(".js-groupgrid-item-icon-link").width(d).height(d)}if(a.length&&(d(a,""),b)){b=a.first();var e=f(b.closest(".b-groupgrid__item")),k=Math.ceil(b.outerWidth(!0))-f(b);b.closest(".b-groupgrid__item").is(".b-flexgrid__item--lastrow")||(a.each(function(){var a=c(this).closest(".b-groupgrid__item");if(a.is(".b-flexgrid__item--lastrow"))return!0;e=Math.min(e,f(a))}),d(a,e-k-1))}}function m(a,b){a=c(".b-groupgrid__item-inner");b&&b.isResize&&a.css({opacity:"0"});g(a,!1)}function n(a,
b){a=c(".b-groupgrid__item-inner");g(a,!0);b&&b.isResize&&a.removeClass("h-tranparent").animate({opacity:"1"},400)}return{updateToolbarButtonPressState:function(a){function b(a){var b=a.data("js-movable-button-clone-id");return c(".js-movable-toolbar-button-clone").filter(function(){return c(this).data("js-movable-button-clone-id")==b})}if(!a.find(".js-button-filter-display-blogs.js-checked").length){var f=a.find(".js-display-blogs-state").data("display-blogs-state");a.find(".js-button-filter-display-blogs").filter('[data-filter-value="{0}"]'.format(f)).addClass("js-checked")}a.find(".js-button-filters .js-button-filter").removeClass("b-button--pressed").each(function(){b(c(this)).removeClass("b-button--pressed")}).filter(".js-checked").addClass("b-button--pressed").each(function(){b(c(this)).addClass("b-button--pressed")})},
updateToolbarPagination:function(a){var b=c(".conversation-toolbar-wrapper .pagenav-controls .pagenav-form",a),f=c(".arrow",b).removeClass("h-disabled"),d=a.find(".js-membergroup-pagination-info"),e=d.find(".js-prevpage").val(),k=d.find(".js-nextpage").val(),g=d.find(".js-pagenum").val()||1;d=d.find(".js-totalpages").val()||1;var h=a.find(".js-under-toolbar-pagenav .js-pagenav");a=a.find(".js-pagenav").not(h);c(".js-pagenum",b).val(g);c(".pagetotal",b).text(d);l(f,"[rel=prev]",e);l(f,"[rel=next]",
k);0==a.length?h.html(""):h.html(a.clone().html())},initFlexGridAdjustments:function(a){a.on("vbulletin:flexgridstart",".js-flexgrid",m).on("vbulletin:flexgridready",".js-flexgrid",n)}}}(jQuery);
;

// ***************************
// js.compressed/sb_socialgroups.js
// ***************************
vBulletin.precache(["contenttype_vbforum_socialgroup","error","invalid_page_specified","social_groups_gsocialgroups"],[]);
(function(c){function t(a,b){k||(k=vBulletin.conversation.filter({context:b,autoCheck:!1,scrollToTop:a,pagination:!1,allowHistory:!1,tabParamAsQueryString:!0,beforeApplyFilters:function(){p({},!1);return!1}}))}function q(){if(c(".socialgroup-widget").hasClass("socialgroup-home-widget")){var a=vBulletin.tabtools,b=c(".activity-stream-widget"),d,u,f=b.find(".widget-tabs-nav .ui-tabs-nav > li"),g=f.filter(".ui-tabs-active"),r=g.index(),k="1"==f.parent().data("allow-history"),q=new vBulletin.history.instance(k);
-1==r&&(r=0,g=f.first());m=g.find("> a").attr("href");a.initTabs(b,q,f,k,r,m,[n],!0,function(f,e,g){f=c(g);g="#"+f.prop("id");e=m==g;g in l||(l[g]=a.tabAllowHistory(f));if("#activity-stream-tab"==g){if(n)e=d.filter,d.pagination&&d.pagination.setOption("context",f),e.setOption("context",f),"undefined"!=typeof e.lastFilters&&0<c(".conversation-empty:not(.h-hide)",f).length&&delete e.lastFilters;else{g=l[g];var k=c(".conversation-list",f);d=a.newTab(f,b,!1,!0,e,k,null,c.noop,g);n=d.filter;e&&c(this).data("noPushState",
!0)}n.applyFilters(!1,!0)}else if("#groups-tab"==g&&(t(b,c("#groups-tab")),n&&n.toggleNewConversations(!1),h||(h=vBulletin.history.instance(l[g]),e&&v(!0),w()),f=c(".conversation-empty",f),0<f.length)){if(e&&!u)return u=!0,!1;f.addClass("h-hide");p({},!c(this).data("noPushState"))}});vBulletin.conversation.bindEditFormEventHandlers("all")}}function v(a){if(h.isEnabled()){var b=h.getState();if(!b||c.isEmptyObject(b.data)){b={from:"filter_groups",page:Number(c(".pagenav-form .defaultpage",d).val())||
1,filters:{filter_groups:c(".js-button-filter.js-checked",d).data("filter-value")}};a&&(b.tab="#groups-tab");var e=vBulletin.parseQueryString(location.search);a&&"undefined"==typeof e.tab&&m&&"#groups-tab"!=m?(e.tab="groups-tab",a=location.pathname+"?"+c.param(e)):a=location.href;h.setDefaultState(b,document.title,a)}}}function w(){h.isEnabled()&&h.setStateChange(function(a,b,d){a=h.getState();if("filter_groups"==a.data.from||"pagination"==b){h.log(a.data,a.title,a.url);var e=c(".socialgroup-widget"),
f=(e=e.hasClass("ui-tabs")&&e)&&e.tabs("option","selected");f=e&&e.find(".ui-tabs-nav > li").eq(f).find("a").attr("href");!1!==f&&f!=a.data.tab?(b=e.find(".ui-tabs-nav > li").filter('li:has(a[href*="{0}"])'.format(a.data.tab)).index(),vBulletin.selectTabByIndex.call(e,b)):p({page:a.data.page,my:"pagination"==b&&d?d.filter_groups||"show_all":a.data.filters.filter_groups,display_groups:"pagination"==b&&d?d.display_groups||"display_grid":a.data.filters.display_groups},!1)}},"filter")}function x(a){vBulletin.AJAX({call:"/ajax/api/content_channel/canAddChannel",
data:{nodeid:pageData.channelid},success:function(a){!0===a.can?location.href=pageData.baseurl+"/sgadmin/create/settings":0<a.exceeded&&vBulletin.warning("social_groups_gsocialgroups","you_can_only_create_x_groups_delete")},title_phrase:"social_groups_gsocialgroups"})}function y(a){a=c(this);var b={page:1};a.is(".js-button-filter-my")?(b.my=a.data("filter-value"),b.display_groups=c(".js-button-filter-display-groups.js-checked",d).data("filter-value")):(b.my=c(".js-button-filter-my.js-checked",d).data("filter-value"),
b.display_groups=a.data("filter-value"));p(b,!0)}function p(a,b){var e=c(".conversation-list",d),k=c(".sg-groups-list",e),f=c(".js-membergroup-pagination-info",k);a.sgparent=a.sgparent||c(".js-category",f).val();a.page=a.page||c(".js-pagenum",f).val();a.perpage=a.perpage||c(".js-perpage",f).val();a.my=a.my||d.find(".js-button-filters .js-button-filter-my.js-checked").data("filter-value");a.display_groups=a.display_groups||d.find(".js-button-filters .js-button-filter-display-groups.js-checked").data("filter-value");
a.routeInfo=a.routeInfo||k.find(".sg-groups-list-container").data("route");a.sort_field=a.sort_field||d.find('.toolbar-filter-overlay input[name="filter_sort"]:checked').val()||"title";a.sort_order=a.sort_order||d.find('.toolbar-filter-overlay input[name="filter_order"]:checked').val()||"asc";c(".js-button-filters .js-button-filter-my",d).removeClass("js-checked").filter('[data-filter-value="{0}"]'.format(a.my)).addClass("js-checked");c(".js-button-filters .js-button-filter-display-groups",d).removeClass("js-checked").filter('[data-filter-value="{0}"]'.format(a.display_groups)).addClass("js-checked");
a.isAjaxTemplateRenderWithData=!0;vBulletin.AJAX({call:"/ajax/render/socialgroup_nodes",data:a,success:function(a){e.replaceWith(a.template);vBulletin.memberChannel.updateToolbarPagination(d);vBulletin.memberChannel.updateToolbarButtonPressState(d);vBulletin.initFlexGridFixLastRowAll(!0);vBulletin.initFrameImagesWithColor()},title_phrase:"contenttype_vbforum_socialgroup",error_phrase:"unable_to_contact_server_please_try_again"});if(b)if(b=location.pathname,m&&"#groups-tab"!=m&&(b+="?tab=groups-tab"),
b=vBulletin.makePaginatedUrl(b,a.page),b=vBulletin.makeFilterUrl(b,"filter_groups",a.my,d),b=vBulletin.makeFilterUrl(b,"display_groups",a.display_groups,d),h&&h.isEnabled())h.getState(),a={from:"filter_groups",page:a.page,tab:d.hasClass("ui-tabs-panel")?"#"+d.attr("id"):void 0,filters:{filter_groups:a.my,display_groups:a.display_groups}},h.pushState(a,document.title,b);else if(l["#groups-tab"])return b=vBulletin.makeFilterUrl(b,"filter_groups",filterValue,d,c(".activity-stream-widget .js-module-top-anchor").attr("id")),
location.href=b,!1}if(!vBulletin.pageHasSelectors([".socialgroup-home-widget",".socialgroup-category-list-widget"]))return!1;var h,l={},n,k,d,m;c(function(){d=c(".groups-tab",a);q();a=c(".socialgroup-category-list-widget");a.length&&t(a,a);l["#groups-tab"]=l["#groups-tab"]||"1"==c(".conversation-toolbar-wrapper",d).data("allow-history");c(document).off("click",".add-sg").on("click",".add-sg",x);d.off("click",".js-button-filter").on("click",".js-button-filter",y);groupsPagination=new vBulletin.pagination({context:d,
allowHistory:l["#groups-tab"],onPageChanged:function(a,e,h,f){if(!e){var b="undefined"!=typeof f?vBulletin.parseQueryString(b):null;a={my:b&&"undefined"==typeof b.filter_groups?"show_all":c(".js-button-filter-my.js-checked",d).data("filter-value"),display_groups:b&&"undefined"==typeof b.display_groups?"display_grid":c(".js-button-filter-display-groups.js-checked",d).data("filter-value"),page:a};p(a,e)}}});var a=c(".socialgroup-widget");a.hasClass("ui-tabs")||(h=vBulletin.history.instance(l["#groups-tab"]),
v(!1),w());vBulletin.memberChannel.updateToolbarButtonPressState(d);vBulletin.memberChannel.initFlexGridAdjustments(c(".socialgroup-widget"))})})(jQuery);
;

// ***************************
// js.compressed/subscribe.js
// ***************************
vBulletin.precache(["follow","following","following_pending","social_group_count_members_x","unsubscribe_overlay_error"],[]);
(function(){function h(a,b){a=$(".js-replace-member-count-"+a);a.length&&a.each(function(){var a=$(this),f=a.data("replace-phrase-varname"),d=parseInt(a.data("member-count"),10)+b;a.text(vBulletin.phrase.get(f,d));a.data("member-count",d)})}vBulletin.subscribe={};var g=function(a,b){a.children(".js-button__text-primary").text(vBulletin.phrase.get(b))},d=function(a,b,c,f){g(a,b);a.addClass((c||"")+" b-button--special").removeClass((f||"")+" b-button--secondary")},e=function(a,b,c,f){g(a,b);a.addClass((c||
"")+" b-button--secondary").removeClass((f||"")+" b-button--special")},k=function(a,b,c){vBulletin.AJAX({call:b,data:c,success:function(b){!isNaN(b)&&1<=b?1==b?d(a,"following","isSubscribed"):d(a,"following_pending","is-pending"):vBulletin.error("follow","follow_error")},title_phrase:"follow",error_phrase:"follow_error"})},l=function(a){var b=$(a),c=parseInt(b.attr("data-node-id"),10);a=parseInt(b.attr("data-owner-id"),10);vBulletin.AJAX({call:"/ajax/api/node/requestChannel",data:{channelid:c,recipient:a,
requestType:"sg_member"},success:function(a){!0===a?(d(b,"joined","has-joined"),h(c,1),(b.hasClass("join-to-post-btn")||b.hasClass("js-refresh"))&&window.location.reload()):isNaN(a)||d(b,"following_pending","is-pending")},title_phrase:"join",error_phrase:"join_error"})},m=function(a){var b=$(a),c=parseInt($(a).attr("data-node-id"),10);vBulletin.AJAX({call:"/ajax/api/blog/leaveChannel",data:{channelId:c},success:function(a){!0===a?(b.hasClass("js-button--follow")?(g(b,"follow"),b.addClass("b-button--special").removeClass("isSubscribed b-button--unfollow")):
(g(b,"join"),b.removeClass("has-joined b-button--special leave-btn")),h(c,-1),b.is(".js-no-refresh")||location.reload()):vBulletin.error("leave","invalid_server_response_please_try_again")},title_phrase:"leave",error_phrase:"invalid_server_response_please_try_again"})},n=function(a){var b=$(a);a=$(a).attr("data-node-id");vBulletin.AJAX({call:"/ajax/api/follow/delete",data:{follow_item:a,type:"follow_contents"},success:function(a){1==a?e(b,"follow","","isSubscribed b-button--unfollow"):vBulletin.error("follow",
"unfollow_error")},title_phrase:"follow",error_phrase:"unfollow_error"})};vBulletin.subscribe.updateSubscribeButton=function(a){if("undefined"!=typeof a){var b=$(".js-button--follow").filter(function(){return $(this).data("node-id")==pageData.nodeid&&pageData.nodeid!=pageData.channelid});switch(a){case 0:e(b,"follow","","isSubscribed b-button--unfollow");break;case 1:e(b,"following","isSubscribed");break;case 2:e(b,"following_pending","is-pending")}}};$(".js-button--follow").on("click",function(a){if($(this).hasClass("isSubscribed"))$(this).hasClass("b-button--unfollow")&&
($(this).hasClass("is-blog-channel")?m(this):n(this));else if(a=$(this),!a.hasClass("isSubscribed")&&!a.hasClass("is-pending")){var b=parseInt(a.attr("data-node-id"),10),c={};a.hasClass("is-topic")?(c.follow_item=b,c.type="follow_contents",k(a,"/ajax/api/follow/add",c)):(c={},c.channelid=b,c.recipient=parseInt(a.attr("data-owner-id"),10),a.hasClass("is-blog-channel")?c.requestType="member":a.hasClass("is-sg-channel")?c.requestType="sg_subscriber":c.requestType="subscriber",k(a,"/ajax/api/node/requestChannel",
c))}});$(".js-button--follow").on("mouseover",function(a){a=$(this);a.hasClass("isSubscribed")&&!a.hasClass("is-owner")&&e(a,"following_remove","b-button--unfollow")});$(".js-button--follow").on("mouseout",function(a){a=$(this);a.hasClass("b-button--unfollow")&&d(a,"following","","b-button--unfollow")});$(".join-to-post-btn").on("click",function(a){$(this).hasClass("has-joined")||$(this).hasClass("is-pending")||l(this)});$(document).on("click",".join-btn",function(a){$(this).hasClass("has-joined")||
$(this).hasClass("is-pending")?$(this).hasClass("leave-btn")&&!$(this).hasClass("is-owner")&&m(this):l(this)});$(document).on("mouseover",".join-btn",function(a){a=$(this);a.hasClass("has-joined")&&!a.hasClass("is-owner")&&e(a,"leave","leave-btn")});$(document).on("mouseout",".join-btn",function(a){a=$(this);a.hasClass("leave-btn")&&!a.hasClass("is-owner")&&d(a,"joined","","leave-btn")})})();
;

